{"version":3,"file":"constraint.es.min.js","sources":["../src/common.ts","../src/constraint.ts","../src/index.ts"],"sourcesContent":["const { innerWidth: width, innerHeight: height } = window\n\nexport const ScreenSize = {\n    width,\n    height,\n}\n\nexport function getSize(target: any, global = false) {\n    const scaleX = target.scale.x\n    const scaleY = target.scale.y\n    const width = target.isStage || global ? ScreenSize.width : target.width / scaleX\n    const height = target.isStage || global ? ScreenSize.height : target.height / scaleY\n\n    return {\n        width,\n        height,\n    }\n}\n\nexport function fix(target: any) {\n    if (target.anchor) {\n        target.x += target.width * target.anchor.x\n        target.y += target.height * target.anchor.y\n    } else {\n        target.x += target.pivot.x * target.scale.x\n        target.y += target.pivot.y * target.scale.y\n    }\n}\n\nexport function fixX(target: any) {\n    if (target.anchor) {\n        target.x += target.width * target.anchor.x\n    } else {\n        target.x += target.pivot.x * target.scale.x\n    }\n}\n\nexport function fixY(target: any) {\n    if (target.anchor) {\n        target.y += target.height * target.anchor.y\n    } else {\n        target.y += target.pivot.y * target.scale.y\n    }\n}","import { getSize, fix, fixX, fixY } from './common'\n\nexport function putCenter(target: any, offsetX: number = 0, offsetY: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n        offsetY = 0\n    }\n    const executable = () => {\n        const { width: parentWidth, height: parentHeight } = getSize(target.parent, global)\n\n        target.x = (parentWidth - target.width) / 2 + offsetX\n        target.y = (parentHeight - target.height) / 2 + offsetY\n\n        fix(target)\n    }\n\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putCenterX(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    const executable = () => {\n        const { width: parentWidth } = getSize(target.parent, global)\n\n        target.x = (parentWidth - target.width) / 2 + offsetX\n\n        fixX(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putCenterY(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    const executable = () => {\n        const { height: parentHeight } = getSize(target.parent, global)\n\n        target.y = (parentHeight - target.height) / 2 + offsetY\n\n        fixY(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putLeft(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    target.on('added', () => {\n        target.x = offsetX\n\n        fixX(target)\n    })\n    if (target.parent) target.x = offsetX\n}\n\nexport function putTop(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    target.on('added', () => {\n        target.y = offsetY\n\n        fixY(target)\n    })\n    if (target.parent) target.y = offsetY\n}\n\nexport function putRight(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    const executable = () => {\n        const { width: parentWidth } = getSize(target.parent, global)\n\n        target.x = parentWidth - target.width - offsetX\n\n        fixX(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putBottom(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    const executable = () => {\n        const { height: parentHeight } = getSize(target.parent, global)\n\n        target.y = parentHeight - target.height - offsetY\n\n        fixY(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n","import * as constraint from './constraint'\n\nexport const constraints = constraint\n\nexport default function ({ Container }: any) {\n    for (const key in constraints) {\n        Container.prototype[key] = function (...args: any) {\n            constraints[key](this, ...args)\n        }\n    }\n}"],"names":["width","height","ScreenSize","getSize","target","global","scaleX","scale","x","scaleY","y","isStage","fix","anchor","pivot","fixX","fixY","putCenter","offsetX","offsetY","executable","_a","parentWidth","parentHeight","on","parent","putCenterX","putCenterY","putLeft","putTop","putRight","putBottom","constraints","constraint","Container","key","prototype","_i","args"],"mappings":"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"}