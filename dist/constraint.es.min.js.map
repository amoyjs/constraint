{"version":3,"file":"constraint.es.min.js","sources":["../src/common.ts","../src/constraint.ts","../src/index.ts"],"sourcesContent":["\nexport class ScreenSize {\n    static get width() {\n        return innerWidth\n    }\n    static get height() {\n        return innerHeight\n    }\n}\n\nexport function getSize(target: any, global = false) {\n    if (target.clone) target = target.clone()\n    const scaleX = target.scale.x\n    const scaleY = target.scale.y\n    const width = target.isStage || global ? ScreenSize.width : target.width / scaleX\n    const height = target.isStage || global ? ScreenSize.height : target.height / scaleY\n\n    return {\n        width,\n        height,\n    }\n}\n\nexport function fix(target: any) {\n    target.x += target.pivot.x * target.scale.x\n    target.y += target.pivot.y * target.scale.y\n    if (target.anchor) {\n        target.x += target.width * target.anchor.x\n        target.y += target.height * target.anchor.y\n    }\n}\n\nexport function fixX(target: any) {\n    target.x += target.pivot.x * target.scale.x\n    if (target.anchor) target.x += target.width * target.anchor.x\n}\n\nexport function fixY(target: any) {\n    target.y += target.pivot.y * target.scale.y\n    if (target.anchor) target.y += target.height * target.anchor.y\n}","import { getSize, fix, fixX, fixY } from './common'\n\nexport function putCenter(target: any, offsetX: number = 0, offsetY: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n        offsetY = 0\n    }\n    const executable = () => {\n        const { width: parentWidth, height: parentHeight } = getSize(target.parent, global)\n\n        target.x = (parentWidth - target.width) / 2 + offsetX\n        target.y = (parentHeight - target.height) / 2 + offsetY\n\n        fix(target)\n    }\n\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putCenterX(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    const executable = () => {\n        const { width: parentWidth } = getSize(target.parent, global)\n\n        target.x = (parentWidth - target.width) / 2 + offsetX\n\n        fixX(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putCenterY(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    const executable = () => {\n        const { height: parentHeight } = getSize(target.parent, global)\n\n        target.y = (parentHeight - target.height) / 2 + offsetY\n\n        fixY(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putLeft(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    target.on('added', () => {\n        target.x = offsetX\n\n        fixX(target)\n    })\n    if (target.parent) target.x = offsetX\n}\n\nexport function putTop(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    target.on('added', () => {\n        target.y = offsetY\n\n        fixY(target)\n    })\n    if (target.parent) target.y = offsetY\n}\n\nexport function putRight(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    const executable = () => {\n        const { width: parentWidth } = getSize(target.parent, global)\n\n        target.x = parentWidth - target.width - offsetX\n\n        fixX(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putBottom(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    const executable = () => {\n        const { height: parentHeight } = getSize(target.parent, global)\n\n        target.y = parentHeight - target.height - offsetY\n\n        fixY(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n","import * as _constraint from './constraint'\n\nexport const constraints = _constraint\nexport { fix, fixX, fixY } from './common'\n\nexport default function constraint({ Container }: any) {\n    for (const key in constraints) {\n        Container.prototype[key] = function (...args: any) {\n            constraints[key](this, ...args)\n        }\n    }\n}"],"names":["Object","ScreenSize","innerWidth","innerHeight","getSize","target","global","clone","scaleX","scale","x","scaleY","y","width","isStage","height","fix","pivot","anchor","fixX","fixY","putCenter","offsetX","offsetY","executable","_a","parentWidth","parentHeight","on","parent","putCenterX","putCenterY","putLeft","putTop","putRight","putBottom","constraints","_constraint","constraint","Container","key","prototype","_i","args"],"mappings":"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"}