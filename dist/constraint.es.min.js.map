{"version":3,"file":"constraint.es.min.js","sources":["../src/common.ts","../src/constraint.ts","../src/index.ts"],"sourcesContent":["export function getSize(target: any) {\n    const scaleX = target.scale.x\n    const scaleY = target.scale.y\n    const width = target.isStage ? target.game.view.width : scaleX === 1 ? target.width : target.width / scaleX\n    const height = target.isStage ? target.game.view.height : scaleY === 1 ? target.height : target.height / scaleY\n    return { width, height }\n}","import { getSize } from './common'\n\nexport function putCenter(this: any, offsetX: number = 0, offsetY: number = 0) {\n    const executable = () => {\n        const { width: parentWidth, height: parentHeight} = getSize(this.parent)\n\n        this.x = (parentWidth - this.width) / 2 + offsetX\n        this.y = (parentHeight - this.height) / 2 + offsetY\n\n        if (this.anchor) {\n            this.anchor.set(.5)\n            this.x += this.width * this.anchor.x\n            this.y += this.height * this.anchor.y\n        } else {\n            this.pivot.x = this.width / 2\n            this.pivot.y = this.height / 2\n            this.x += this.pivot.x\n            this.y += this.pivot.y\n        }\n    }\n\n    this.on('added', () => executable())\n    if (this.parent) executable()\n}\n\nexport function putCenterX(this: any, offsetX: number = 0) {\n    const executable = () => {\n        const { width: parentWidth } = getSize(this.parent)\n        this.x = (parentWidth - this.width) / 2 + offsetX\n\n        if (this.anchor) {\n            this.anchor.x = .5\n            this.x += this.width * this.anchor.x\n        } else {\n            this.pivot.x = this.width / 2\n            this.x += this.pivot.x\n        }\n    }\n    this.on('added', () => executable())\n    if (this.parent) executable()\n}\n\nexport function putCenterY(this: any, offsetY: number = 0) {\n    const executable = () => {\n        const { height: parentHeight } = getSize(this.parent)\n        this.y = (parentHeight - this.height) / 2 + offsetY\n\n        if (this.anchor) {\n            this.anchor.y = .5\n            this.y += this.width * this.anchor.y\n        } else {\n            this.pivot.y = this.height / 2\n            this.y += this.pivot.y\n        }\n    }\n    this.on('added', () => executable())\n    if (this.parent) executable()\n}\n\nexport function putLeft(this: any, offsetX: number = 0) {\n    this.on('added', () => {\n        this.x = offsetX\n\n        if (this.anchor) {\n            this.anchor.x = .5\n            this.x += this.width * this.anchor.x\n        } else {\n            this.pivot.x = this.width / 2\n            this.x += this.pivot.x\n        }\n    })\n    if (this.parent) this.x = offsetX\n}\n\nexport function putTop(this: any, offsetY: number = 0) {\n    this.on('added', () => {\n        this.y = offsetY\n\n        if (this.anchor) {\n            this.anchor.y = .5\n            this.y += this.width * this.anchor.y\n        } else {\n            this.pivot.y = this.height / 2\n            this.y += this.pivot.y\n        }\n    })\n    if (this.parent) this.y = offsetY\n}\n\nexport function putRight(this: any, offsetX: number = 0) {\n    const executable = () => {\n        const { width: parentWidth } = getSize(this.parent)\n        this.x = parentWidth - this.width - offsetX\n\n        if (this.anchor) {\n            this.anchor.x = .5\n            this.x += this.width * this.anchor.x\n        } else {\n            this.pivot.x = this.width / 2\n            this.x += this.pivot.x\n        }\n    }\n    this.on('added', () => executable())\n    if (this.parent) executable()\n}\n\nexport function putBottom(this: any, offsetY: number = 0) {\n    const executable = () => {\n        const { height: parentHeight } = getSize(this.parent)\n        this.y = parentHeight - this.height - offsetY\n\n        if (this.anchor) {\n            this.anchor.y = .5\n            this.y += this.width * this.anchor.y\n        } else {\n            this.pivot.y = this.height / 2\n            this.y += this.pivot.y\n        }\n    }\n    this.on('added', () => executable())\n    if (this.parent) executable()\n}\n","import * as constraint from './constraint'\n\nexport default function ({ Container }: any) {\n    for (const key in constraint) {\n        Container.prototype[key] = constraint[key]\n    }\n}"],"names":["getSize","target","scaleX","scale","x","scaleY","y","width","isStage","game","view","height","putCenter","offsetX","offsetY","executable","_a","parentWidth","parentHeight","_this","anchor","set","pivot","on","parent","putCenterX","putCenterY","putLeft","putTop","putRight","putBottom","Container","key","constraint","prototype"],"mappings":"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"}