{"version":3,"file":"constraint.es.min.js","sources":["../src/common.ts","../src/constraint.ts","../src/index.ts"],"sourcesContent":["\nexport class ScreenSize {\n    static _width: number = innerWidth\n    static _height: number = innerHeight\n    static get width() {\n        return this._width\n    }\n    static set width(width) {\n        this._width = width\n    }\n    static get height() {\n        return this._height\n    }\n    static set height(height) {\n        this._height = height\n    }\n}\n\nexport function getSize(target: any, global = false) {\n    if (target.clone) target = target.clone()\n    const scaleX = target.scale.x\n    const scaleY = target.scale.y\n    const width = target.isStage || global ? ScreenSize.width : target.width / scaleX\n    const height = target.isStage || global ? ScreenSize.height : target.height / scaleY\n\n    return {\n        width,\n        height,\n    }\n}\n\nexport function fix(target: any) {\n    target.x += target.pivot.x * target.scale.x\n    target.y += target.pivot.y * target.scale.y\n    if (target.anchor) {\n        target.x += target.width * target.anchor.x\n        target.y += target.height * target.anchor.y\n    }\n}\n\nexport function fixX(target: any) {\n    target.x += target.pivot.x * target.scale.x\n    if (target.anchor) target.x += target.width * target.anchor.x\n}\n\nexport function fixY(target: any) {\n    target.y += target.pivot.y * target.scale.y\n    if (target.anchor) target.y += target.height * target.anchor.y\n}","import { getSize, fix, fixX, fixY } from './common'\n\nexport function putCenter(target: any, offsetX: number = 0, offsetY: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n        offsetY = 0\n    }\n    const executable = () => {\n        const { width: parentWidth, height: parentHeight } = getSize(target.parent, global)\n\n        target.x = (parentWidth - target.width) / 2 + offsetX\n        target.y = (parentHeight - target.height) / 2 + offsetY\n\n        fix(target)\n    }\n\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putCenterX(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    const executable = () => {\n        const { width: parentWidth } = getSize(target.parent, global)\n\n        target.x = (parentWidth - target.width) / 2 + offsetX\n\n        fixX(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putCenterY(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    const executable = () => {\n        const { height: parentHeight } = getSize(target.parent, global)\n\n        target.y = (parentHeight - target.height) / 2 + offsetY\n\n        fixY(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putLeft(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    target.on('added', () => {\n        target.x = offsetX\n\n        fixX(target)\n    })\n    if (target.parent) target.x = offsetX\n}\n\nexport function putTop(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    target.on('added', () => {\n        target.y = offsetY\n\n        fixY(target)\n    })\n    if (target.parent) target.y = offsetY\n}\n\nexport function putRight(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    const executable = () => {\n        const { width: parentWidth } = getSize(target.parent, global)\n\n        target.x = parentWidth - target.width - offsetX\n\n        fixX(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putBottom(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    const executable = () => {\n        const { height: parentHeight } = getSize(target.parent, global)\n\n        target.y = parentHeight - target.height - offsetY\n\n        fixY(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n","import * as _constraint from './constraint'\nimport { ScreenSize } from './common'\nimport Event from 'eventemitter3'\n\nexport const constraints = _constraint\nexport { fix, fixX, fixY } from './common'\n\nexport function deprecatedConstraint({ Container }: any) {\n    console.warn('deprecatedConstraint')\n    for (const key in constraints) {\n        Container.prototype[key] = function (...args: any) {\n            constraints[key](this, ...args)\n        }\n    }\n}\n\nexport default function constraint(event: Event) {\n    event.on('beforeCreate', ({ PIXI }) => {\n        for (const key in constraints) {\n            PIXI.Container.prototype[key] = function (...args: any) {\n                constraints[key](this, ...args)\n            }\n        }\n    })\n}\n\nexport function createConstraint(width: number, height: number) {\n    ScreenSize.width = width\n    ScreenSize.height = height\n    return constraint\n}\n"],"names":["Object","ScreenSize","_width","width","_height","height","innerWidth","innerHeight","getSize","target","global","clone","scaleX","scale","x","scaleY","y","isStage","fix","pivot","anchor","fixX","fixY","putCenter","offsetX","offsetY","executable","_a","parentWidth","parentHeight","on","parent","putCenterX","putCenterY","putLeft","putTop","putRight","putBottom","constraints","_constraint","deprecatedConstraint","Container","console","warn","key","prototype","_i","args","constraint","event","PIXI","createConstraint"],"mappings":"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"}