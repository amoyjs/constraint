{"version":3,"file":"index.min.js","sources":["../src/common.ts","../src/index.ts","../src/constraint.ts"],"sourcesContent":["\nexport class ScreenSize {\n    static _width: number = innerWidth\n    static _height: number = innerHeight\n    static get width() {\n        return this._width\n    }\n    static set width(width) {\n        this._width = width\n    }\n    static get height() {\n        return this._height\n    }\n    static set height(height) {\n        this._height = height\n    }\n}\n\nexport function getSize(target: any, global = false) {\n    if (target.clone) target = target.clone()\n    const scaleX = target.scale.x\n    const scaleY = target.scale.y\n    const width = target.isStage || global ? ScreenSize.width : target.width / scaleX\n    const height = target.isStage || global ? ScreenSize.height : target.height / scaleY\n\n    return {\n        width,\n        height,\n    }\n}\n\nexport function fix(target: any) {\n    target.x += target.pivot.x * target.scale.x\n    target.y += target.pivot.y * target.scale.y\n    if (target.anchor) {\n        target.x += target.width * target.anchor.x\n        target.y += target.height * target.anchor.y\n    }\n}\n\nexport function fixX(target: any) {\n    target.x += target.pivot.x * target.scale.x\n    if (target.anchor) target.x += target.width * target.anchor.x\n}\n\nexport function fixY(target: any) {\n    target.y += target.pivot.y * target.scale.y\n    if (target.anchor) target.y += target.height * target.anchor.y\n}","import * as _constraint from './constraint'\nimport { ScreenSize } from './common'\nimport Event from 'eventemitter3'\n\nexport const constraints = _constraint\nexport { fix, fixX, fixY } from './common'\n\nexport function deprecatedConstraint({ Container }: any) {\n    console.warn('deprecatedConstraint')\n    for (const key in constraints) {\n        Container.prototype[key] = function (...args: any) {\n            constraints[key](this, ...args)\n        }\n    }\n}\n\nexport default function constraint(event: Event) {\n    event.on('beforeCreate', ({ PIXI }) => {\n        for (const key in constraints) {\n            PIXI.Container.prototype[key] = function (...args: any) {\n                constraints[key](this, ...args)\n            }\n        }\n    })\n}\n\nexport function createConstraint(width: number, height: number) {\n    ScreenSize.width = width\n    ScreenSize.height = height\n    return constraint\n}\n","import { getSize, fix, fixX, fixY } from './common'\n\nexport function putCenter(target: any, offsetX: number = 0, offsetY: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n        offsetY = 0\n    }\n    const executable = () => {\n        const { width: parentWidth, height: parentHeight } = getSize(target.parent, global)\n\n        target.x = (parentWidth - target.width) / 2 + offsetX\n        target.y = (parentHeight - target.height) / 2 + offsetY\n\n        fix(target)\n    }\n\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putCenterX(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    const executable = () => {\n        const { width: parentWidth } = getSize(target.parent, global)\n\n        target.x = (parentWidth - target.width) / 2 + offsetX\n\n        fixX(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putCenterY(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    const executable = () => {\n        const { height: parentHeight } = getSize(target.parent, global)\n\n        target.y = (parentHeight - target.height) / 2 + offsetY\n\n        fixY(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putLeft(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    target.on('added', () => {\n        target.x = offsetX\n\n        fixX(target)\n    })\n    if (target.parent) target.x = offsetX\n}\n\nexport function putTop(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    target.on('added', () => {\n        target.y = offsetY\n\n        fixY(target)\n    })\n    if (target.parent) target.y = offsetY\n}\n\nexport function putRight(target: any, offsetX: number = 0, global = false) {\n    if (typeof offsetX === 'boolean') {\n        global = offsetX\n        offsetX = 0\n    }\n    const executable = () => {\n        const { width: parentWidth } = getSize(target.parent, global)\n\n        target.x = parentWidth - target.width - offsetX\n\n        fixX(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n\nexport function putBottom(target: any, offsetY: number = 0, global = false) {\n    if (typeof offsetY === 'boolean') {\n        global = offsetY\n        offsetY = 0\n    }\n    const executable = () => {\n        const { height: parentHeight } = getSize(target.parent, global)\n\n        target.y = parentHeight - target.height - offsetY\n\n        fixY(target)\n    }\n    target.on('added', () => executable())\n    if (target.parent) executable()\n}\n"],"names":["getSize","target","global","clone","scaleX","scale","x","scaleY","y","width","isStage","ScreenSize","height","fix","pivot","anchor","fixX","fixY","constraint","event","on","_a","PIXI","key","Container","prototype","_i","args","constraints","Object","_width","_height","innerWidth","innerHeight","offsetX","offsetY","executable","parentWidth","parentHeight","parent","_constraint","console","warn"],"mappings":"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"}