{"version":3,"file":"constraint.min.js","sources":["../src/common.ts","../src/constraint.ts","../src/index.ts"],"sourcesContent":["export function getSize(target: any) {\n    const scaleX = target.scale.x\n    const scaleY = target.scale.y\n    const width = target.isStage ? target.game.view.width : scaleX === 1 ? target.width : target.width / scaleX\n    const height = target.isStage ? target.game.view.height : scaleY === 1 ? target.height : target.height / scaleY\n    return { width, height }\n}","import { getSize } from './common'\n\nexport function putCenter(this: any, offsetX: number = 0, offsetY: number = 0) {\n    const executable = () => {\n        const { width: parentWidth, height: parentHeight} = getSize(this.parent)\n\n        this.x = (parentWidth - this.width) / 2 + offsetX\n        this.y = (parentHeight - this.height) / 2 + offsetY\n\n        if (this.anchor) {\n            this.anchor.set(.5)\n            this.x += this.width * this.anchor.x\n            this.y += this.height * this.anchor.y\n        } else {\n            this.pivot.x = this.width / 2\n            this.pivot.y = this.height / 2\n            this.x += this.pivot.x\n            this.y += this.pivot.y\n        }\n    }\n\n    this.on('added', () => executable())\n    if (this.parent) executable()\n}\n\nexport function putCenterX(this: any, offsetX: number = 0) {\n    const executable = () => {\n        const { width: parentWidth } = getSize(this.parent)\n        this.x = (parentWidth - this.width) / 2 + offsetX\n\n        if (this.anchor) {\n            this.anchor.x = .5\n            this.x += this.width * this.anchor.x\n        } else {\n            this.pivot.x = this.width / 2\n            this.x += this.pivot.x\n        }\n    }\n    this.on('added', () => executable())\n    if (this.parent) executable()\n}\n\nexport function putCenterY(this: any, offsetY: number = 0) {\n    const executable = () => {\n        const { height: parentHeight } = getSize(this.parent)\n        this.y = (parentHeight - this.height) / 2 + offsetY\n\n        if (this.anchor) {\n            this.anchor.y = .5\n            this.y += this.width * this.anchor.y\n        } else {\n            this.pivot.y = this.height / 2\n            this.y += this.pivot.y\n        }\n    }\n    this.on('added', () => executable())\n    if (this.parent) executable()\n}\n\nexport function putLeft(this: any, offsetX: number = 0) {\n    this.on('added', () => {\n        this.x = offsetX\n\n        if (this.anchor) {\n            this.anchor.x = .5\n            this.x += this.width * this.anchor.x\n        } else {\n            this.pivot.x = this.width / 2\n            this.x += this.pivot.x\n        }\n    })\n    if (this.parent) this.x = offsetX\n}\n\nexport function putTop(this: any, offsetY: number = 0) {\n    this.on('added', () => {\n        this.y = offsetY\n\n        if (this.anchor) {\n            this.anchor.y = .5\n            this.y += this.width * this.anchor.y\n        } else {\n            this.pivot.y = this.height / 2\n            this.y += this.pivot.y\n        }\n    })\n    if (this.parent) this.y = offsetY\n}\n\nexport function putRight(this: any, offsetX: number = 0) {\n    const executable = () => {\n        const { width: parentWidth } = getSize(this.parent)\n        this.x = parentWidth - this.width - offsetX\n\n        if (this.anchor) {\n            this.anchor.x = .5\n            this.x += this.width * this.anchor.x\n        } else {\n            this.pivot.x = this.width / 2\n            this.x += this.pivot.x\n        }\n    }\n    this.on('added', () => executable())\n    if (this.parent) executable()\n}\n\nexport function putBottom(this: any, offsetY: number = 0) {\n    const executable = () => {\n        const { height: parentHeight } = getSize(this.parent)\n        this.y = parentHeight - this.height - offsetY\n\n        if (this.anchor) {\n            this.anchor.y = .5\n            this.y += this.width * this.anchor.y\n        } else {\n            this.pivot.y = this.height / 2\n            this.y += this.pivot.y\n        }\n    }\n    this.on('added', () => executable())\n    if (this.parent) executable()\n}\n","import * as constraint from './constraint'\n\nexport default function ({ Container }: any) {\n    for (const key in constraint) {\n        Container.prototype[key] = constraint[key]\n    }\n}"],"names":["getSize","target","scaleX","scale","x","scaleY","y","width","isStage","game","view","height","offsetX","offsetY","executable","_a","parentWidth","parentHeight","_this","anchor","set","pivot","on","parent","Container","key","constraint","prototype"],"mappings":"2MAAgBA,CAAAA,EAAQC,MACdC,CAAAA,CAAM,CAAGD,CAAM,CAACE,KAAP,CAAaC,EACtBC,CAAM,CAAGJ,CAAM,CAACE,KAAP,CAAaG,EACtBC,CAAK,CAAGN,CAAM,CAACO,OAAP,CAAiBP,CAAM,CAACQ,IAAP,CAAYC,IAAZ,CAAiBH,KAAlC,CAAqD,CAAX,GAAAL,CAAM,CAASD,CAAM,CAACM,KAAhB,CAAwBN,CAAM,CAACM,KAAP,CAAeL,EAC/FS,CAAM,CAAGV,CAAM,CAACO,OAAP,CAAiBP,CAAM,CAACQ,IAAP,CAAYC,IAAZ,CAAiBC,MAAlC,CAAsD,CAAX,GAAAN,CAAM,CAASJ,CAAM,CAACU,MAAhB,CAAyBV,CAAM,CAACU,MAAP,CAAgBN,EACzG,MAAO,CAAEE,KAAK,EAAP,CAASI,MAAM,EAAf,CACV,sDCJoCC,EAAqBC,GAA1D,UAAA,cAAqCD,kBAAqBC,KACtD,GAAMC,CAAAA,CAAU,CAAG,WACT,GAAAC,CAAAA,aAAA,CAAEC,SAAF,CAAsBC,UAAtB,CAENC,CAAI,CAACd,CAAL,CAAS,CAACY,CAAW,CAAGE,CAAI,CAACX,KAApB,EAA6B,CAA7B,CAAiCK,EAC1CM,CAAI,CAACZ,CAAL,CAAS,CAACW,CAAY,CAAGC,CAAI,CAACP,MAArB,EAA+B,CAA/B,CAAmCE,EAExCK,CAAI,CAACC,QACLD,CAAI,CAACC,MAAL,CAAYC,GAAZ,CAAgB,EAAhB,EACAF,CAAI,CAACd,CAAL,EAAUc,CAAI,CAACX,KAAL,CAAaW,CAAI,CAACC,MAAL,CAAYf,EACnCc,CAAI,CAACZ,CAAL,EAAUY,CAAI,CAACP,MAAL,CAAcO,CAAI,CAACC,MAAL,CAAYb,IAEpCY,CAAI,CAACG,KAAL,CAAWjB,CAAX,CAAec,CAAI,CAACX,KAAL,CAAa,EAC5BW,CAAI,CAACG,KAAL,CAAWf,CAAX,CAAeY,CAAI,CAACP,MAAL,CAAc,EAC7BO,CAAI,CAACd,CAAL,EAAUc,CAAI,CAACG,KAAL,CAAWjB,EACrBc,CAAI,CAACZ,CAAL,EAAUY,CAAI,CAACG,KAAL,CAAWf,EAE5B,CAhBD,CAkBA,KAAKgB,EAAL,CAAQ,OAAR,CAAiB,WAAM,MAAAR,CAAAA,CAAU,EAAE,CAAnC,EACI,KAAKS,QAAQT,CAAU,EAC9B,sBAEqCF,GAAtC,UAAA,cAAsCA,KAClC,GAAME,CAAAA,CAAU,CAAG,WACP,GAAAE,CAAAA,mBAAA,CACRE,CAAI,CAACd,CAAL,CAAS,CAACY,CAAW,CAAGE,CAAI,CAACX,KAApB,EAA6B,CAA7B,CAAiCK,EAEtCM,CAAI,CAACC,QACLD,CAAI,CAACC,MAAL,CAAYf,CAAZ,CAAgB,GAChBc,CAAI,CAACd,CAAL,EAAUc,CAAI,CAACX,KAAL,CAAaW,CAAI,CAACC,MAAL,CAAYf,IAEnCc,CAAI,CAACG,KAAL,CAAWjB,CAAX,CAAec,CAAI,CAACX,KAAL,CAAa,EAC5BW,CAAI,CAACd,CAAL,EAAUc,CAAI,CAACG,KAAL,CAAWjB,EAE5B,CAXD,CAYA,KAAKkB,EAAL,CAAQ,OAAR,CAAiB,WAAM,MAAAR,CAAAA,CAAU,EAAE,CAAnC,EACI,KAAKS,QAAQT,CAAU,EAC9B,sBAEqCD,GAAtC,UAAA,cAAsCA,KAClC,GAAMC,CAAAA,CAAU,CAAG,WACP,GAAAG,CAAAA,oBAAA,CACRC,CAAI,CAACZ,CAAL,CAAS,CAACW,CAAY,CAAGC,CAAI,CAACP,MAArB,EAA+B,CAA/B,CAAmCE,EAExCK,CAAI,CAACC,QACLD,CAAI,CAACC,MAAL,CAAYb,CAAZ,CAAgB,GAChBY,CAAI,CAACZ,CAAL,EAAUY,CAAI,CAACX,KAAL,CAAaW,CAAI,CAACC,MAAL,CAAYb,IAEnCY,CAAI,CAACG,KAAL,CAAWf,CAAX,CAAeY,CAAI,CAACP,MAAL,CAAc,EAC7BO,CAAI,CAACZ,CAAL,EAAUY,CAAI,CAACG,KAAL,CAAWf,EAE5B,CAXD,CAYA,KAAKgB,EAAL,CAAQ,OAAR,CAAiB,WAAM,MAAAR,CAAAA,CAAU,EAAE,CAAnC,EACI,KAAKS,QAAQT,CAAU,EAC9B,mBAEkCF,GAAnC,UAAA,cAAmCA,KAC/B,KAAKU,EAAL,CAAQ,OAAR,CAAiB,WACbJ,CAAI,CAACd,CAAL,CAASQ,EAELM,CAAI,CAACC,QACLD,CAAI,CAACC,MAAL,CAAYf,CAAZ,CAAgB,GAChBc,CAAI,CAACd,CAAL,EAAUc,CAAI,CAACX,KAAL,CAAaW,CAAI,CAACC,MAAL,CAAYf,IAEnCc,CAAI,CAACG,KAAL,CAAWjB,CAAX,CAAec,CAAI,CAACX,KAAL,CAAa,EAC5BW,CAAI,CAACd,CAAL,EAAUc,CAAI,CAACG,KAAL,CAAWjB,EAE5B,CAVD,EAWI,KAAKmB,SAAQ,KAAKnB,CAAL,CAASQ,EAC7B,kBAEiCC,GAAlC,UAAA,cAAkCA,KAC9B,KAAKS,EAAL,CAAQ,OAAR,CAAiB,WACbJ,CAAI,CAACZ,CAAL,CAASO,EAELK,CAAI,CAACC,QACLD,CAAI,CAACC,MAAL,CAAYb,CAAZ,CAAgB,GAChBY,CAAI,CAACZ,CAAL,EAAUY,CAAI,CAACX,KAAL,CAAaW,CAAI,CAACC,MAAL,CAAYb,IAEnCY,CAAI,CAACG,KAAL,CAAWf,CAAX,CAAeY,CAAI,CAACP,MAAL,CAAc,EAC7BO,CAAI,CAACZ,CAAL,EAAUY,CAAI,CAACG,KAAL,CAAWf,EAE5B,CAVD,EAWI,KAAKiB,SAAQ,KAAKjB,CAAL,CAASO,EAC7B,oBAEmCD,GAApC,UAAA,cAAoCA,KAChC,GAAME,CAAAA,CAAU,CAAG,WACP,GAAAE,CAAAA,mBAAA,CACRE,CAAI,CAACd,CAAL,CAASY,CAAW,CAAGE,CAAI,CAACX,KAAnB,CAA2BK,EAEhCM,CAAI,CAACC,QACLD,CAAI,CAACC,MAAL,CAAYf,CAAZ,CAAgB,GAChBc,CAAI,CAACd,CAAL,EAAUc,CAAI,CAACX,KAAL,CAAaW,CAAI,CAACC,MAAL,CAAYf,IAEnCc,CAAI,CAACG,KAAL,CAAWjB,CAAX,CAAec,CAAI,CAACX,KAAL,CAAa,EAC5BW,CAAI,CAACd,CAAL,EAAUc,CAAI,CAACG,KAAL,CAAWjB,EAE5B,CAXD,CAYA,KAAKkB,EAAL,CAAQ,OAAR,CAAiB,WAAM,MAAAR,CAAAA,CAAU,EAAE,CAAnC,EACI,KAAKS,QAAQT,CAAU,EAC9B,qBAEoCD,GAArC,UAAA,cAAqCA,KACjC,GAAMC,CAAAA,CAAU,CAAG,WACP,GAAAG,CAAAA,oBAAA,CACRC,CAAI,CAACZ,CAAL,CAASW,CAAY,CAAGC,CAAI,CAACP,MAApB,CAA6BE,EAElCK,CAAI,CAACC,QACLD,CAAI,CAACC,MAAL,CAAYb,CAAZ,CAAgB,GAChBY,CAAI,CAACZ,CAAL,EAAUY,CAAI,CAACX,KAAL,CAAaW,CAAI,CAACC,MAAL,CAAYb,IAEnCY,CAAI,CAACG,KAAL,CAAWf,CAAX,CAAeY,CAAI,CAACP,MAAL,CAAc,EAC7BO,CAAI,CAACZ,CAAL,EAAUY,CAAI,CAACG,KAAL,CAAWf,EAE5B,CAXD,CAYA,KAAKgB,EAAL,CAAQ,OAAR,CAAiB,WAAM,MAAAR,CAAAA,CAAU,EAAE,CAAnC,EACI,KAAKS,QAAQT,CAAU,EAC9B,oBCvHwBC,MAAES,CAAAA,cACvB,IAAK,GAAMC,CAAAA,CAAX,GAAkBC,CAAAA,CAAlB,CACIF,CAAS,CAACG,SAAV,CAAoBF,CAApB,EAA2BC,CAAU,CAACD,CAAD,CAE5C"}